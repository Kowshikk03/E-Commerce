{% extends 'commerce/layouts/main.html' %}
{% load static %}

{% block title %}
ShopKart | Online Shopping
{% endblock title %}

{% block content %}

<hr>
<hr>
<section class="bg-light py-4 my-5" style="min-height:600px;">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <h4 class="mb-3">{{ category_name }} Products</h4>
        <hr style="border-color:#b8bfc2;">
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="{% url 'home' %}">Home</a></li>
            <li class="breadcrumb-item"><a href="{% url 'collections' %}">Collections</a></li>
            <li class="breadcrumb-item active">{{ category_name }}</li>
          </ol>
        </nav>
        {% include 'commerce/inc/message.html' %}
      </div>

      {% for item in products %}
      <div class="col-md-4 col-lg-3">
        <div class="card my-3">
          {% if item.product_image %}
            <img src="{{ item.product_image.url }}" class="card-img-top" alt="{{ item.name }}" style="width: 100%; height: 200px; object-fit: cover;">
          {% else %}
            <img src="{% static 'images/default.png' %}" class="card-img-top" alt="No image available" style="width: 100%; height: 200px; object-fit: cover;">
          {% endif %}
          <a href="{% url 'product_details' category_name item.name %}">
            <div class="card-body">
              <h5 class="card-title text-primary">{{ item.name }}</h5>
              <p class="card-text">
                <span class="float-start old_price"><s>Rs.{{ item.original_price|stringformat:'d' }}</s></span>
                <span class="float-end new_price">Rs.{{ item.selling_price|stringformat:'d' }}</span>
              </p>
            </div>
          </a>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>
{% endblock content %}
